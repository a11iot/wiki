<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>
		</title>
		<style type="text/css">
			.cs868C439D{text-align:left;text-indent:0pt;margin:10pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.cs83F14626{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:14pt;font-weight:bold;font-style:normal;}
			.csB2D98684{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:14pt;font-weight:bold;font-style:normal;}
			.cs40DD2BC9{text-align:left;text-indent:0pt;margin:9pt 0pt 9pt 0pt}
			.cs9C1B1871{color:#000000;background-color:transparent;font-family:Microsoft YaHei UI;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs8926E06{color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs3A447A38{text-align:left;text-indent:0pt;margin:0pt 0pt 10pt 0pt}
			.cs9FB05234{color:#000000;background-color:transparent;font-family:Consolas;font-size:11pt;font-weight:normal;font-style:normal;}
			.cs6FD73CFB{text-align:left;text-indent:0pt;margin:5pt 24pt 5pt 24pt}
		</style>
	</head>
	<body>
		<h2 class="cs868C439D">
			<a name="利用钓鱼页面来搜集目标-owa-入口账号密码"><span class="cs83F14626">利用钓鱼页面来搜集目标</span><span class="csB2D98684"> owa </span><span class="cs83F14626">入口账号密码</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">用于演示的</span><span class="cs8926E06"> owa </span><span class="cs9C1B1871">入口实例</span><span class="cs8926E06">,</span><span class="cs9C1B1871">如下</span><span class="cs8926E06">:</span></p><p class="cs3A447A38"><span class="cs9FB05234">https://0-sec.org/owa/auth/logon.aspx?replaceCurrent=1&amp;url=https%3A%2F%2Fhgcbizmail.hostedexchange.asia%2Fowa</span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">原本的真网站长这个样子</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/%e5%88%a9%e7%94%a8%e9%92%93%e9%b1%bc%e9%a1%b5%e9%9d%a2%e6%9d%a5%e6%90%9c%e9%9b%86%e7%9b%ae%e6%a0%87%e5%90%84%e7%b1%bb%20owa%20%e5%85%a5%e5%8f%a3%e8%b4%a6%e5%8f%b7%e5%af%86%e7%a0%81_files/image0.png" width="560" height="233" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">既然是利用钓鱼页面来盗取账号密码</span><span class="cs8926E06">,</span><span class="cs9C1B1871">首先</span><span class="cs8926E06">,</span><span class="cs9C1B1871">肯定得先有个钓鱼页面才行</span><span class="cs8926E06">,</span><span class="cs9C1B1871">而在</span><span class="cs8926E06"> CobaltStrike </span><span class="cs9C1B1871">中默认提供了一个</span><span class="cs8926E06"> Clone Site </span><span class="cs9C1B1871">模块</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就是专门用来干这事儿的</span><span class="cs8926E06">,</span><span class="cs9C1B1871">接着我们就来简单看下具体怎么用</span><span class="cs8926E06">,</span><span class="cs9C1B1871">其实非常简单</span><span class="cs8926E06">,</span><span class="cs9C1B1871">依次点击</span><span class="cs8926E06"> &quot;Attacks&quot; -&gt; &quot; Web Drive-by&quot; -&gt; &quot; Clone Site&quot; </span><span class="cs9C1B1871">之后会弹出右边的对话框</span><span class="cs8926E06">,</span><span class="cs9C1B1871">在</span><span class="cs8926E06">&quot;Clone URL&quot;</span><span class="cs9C1B1871">中填上要克隆的页面的真实</span><span class="cs8926E06"> url, &quot;Local URL&quot; </span><span class="cs9C1B1871">则是指定本地</span><span class="cs8926E06"> url,</span><span class="cs9C1B1871">这个尽量要和真实目标</span><span class="cs8926E06"> url </span><span class="cs9C1B1871">保持像一点才行</span><span class="cs8926E06">, &quot;Local Host&quot;</span><span class="cs9C1B1871">保持默认</span><span class="cs8926E06">, &quot;Local Port&quot; </span><span class="cs9C1B1871">保持默认</span><span class="cs8926E06">, &quot;Attack&quot;</span><span class="cs9C1B1871">的意思就是用指定的</span><span class="cs8926E06"> CobaltStrike </span><span class="cs9C1B1871">链接</span><span class="cs8926E06">[</span><span class="cs9C1B1871">比如</span><span class="cs8926E06">,</span><span class="cs9C1B1871">选择我们之前生成的那个探针链接</span><span class="cs8926E06">]</span><span class="cs9C1B1871">去替换钓鱼页面中的所有链接</span><span class="cs8926E06">[</span><span class="cs9C1B1871">其实就是替换</span><span class="cs8926E06"> a </span><span class="cs9C1B1871">标签中</span><span class="cs8926E06"> href </span><span class="cs9C1B1871">的内容</span><span class="cs8926E06">],</span><span class="cs9C1B1871">这样不管目标点击钓鱼页面中的哪个链接时都会先跳到我们的恶意链接上</span><span class="cs8926E06">,</span><span class="cs9C1B1871">至于这个恶意链接是探针还是个木马下载链接</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就完全看你的实际目的了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">最后</span><span class="cs8926E06">,</span><span class="cs9C1B1871">记得把最下面的键盘记录选项也勾上</span><span class="cs8926E06">,</span><span class="cs9C1B1871">勾上这个以后</span><span class="cs8926E06">,</span><span class="cs9C1B1871">当目标访问我们的钓鱼页面从键盘上所输入的所有数据都会被回传至我们的</span><span class="cs8926E06"> C2 </span><span class="cs9C1B1871">服务器上</span><span class="cs8926E06">,</span><span class="cs9C1B1871">也正是通过这种方式来实现的实时键盘记录</span><span class="cs8926E06">,</span><span class="cs9C1B1871">其实本质就是用</span><span class="cs8926E06"> js[</span><span class="cs9C1B1871">不停捕捉键盘事件</span><span class="cs8926E06">]</span><span class="cs9C1B1871">回传的</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/%e5%88%a9%e7%94%a8%e9%92%93%e9%b1%bc%e9%a1%b5%e9%9d%a2%e6%9d%a5%e6%90%9c%e9%9b%86%e7%9b%ae%e6%a0%87%e5%90%84%e7%b1%bb%20owa%20%e5%85%a5%e5%8f%a3%e8%b4%a6%e5%8f%b7%e5%af%86%e7%a0%81_files/image1.png" width="560" height="396" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">最终生成好的钓鱼页面大概就是如下这个样子</span><span class="cs8926E06">,</span><span class="cs9C1B1871">之后的事情就是想办法把这个链接发给目标让他能看到点上就行</span></p><p class="cs3A447A38"><span class="cs9FB05234">http://23.16.73.89/owa/auth/logon.aspx</span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">这是我们克隆的假网站</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/%e5%88%a9%e7%94%a8%e9%92%93%e9%b1%bc%e9%a1%b5%e9%9d%a2%e6%9d%a5%e6%90%9c%e9%9b%86%e7%9b%ae%e6%a0%87%e5%90%84%e7%b1%bb%20owa%20%e5%85%a5%e5%8f%a3%e8%b4%a6%e5%8f%b7%e5%af%86%e7%a0%81_files/image2.png" width="560" height="264" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">在目标点开了我们发给他的钓鱼页面链接</span><span class="cs8926E06">,</span><span class="cs9C1B1871">正常输入账号密码之后</span><span class="cs8926E06">,CobaltStrike </span><span class="cs9C1B1871">团队服务器马上就会接收到他所键入的数据</span><span class="cs8926E06">,</span><span class="cs9C1B1871">如下</span><span class="cs8926E06">,</span><span class="cs9C1B1871">此时他只要一点击登录</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就会跳到原来真实的入口链接上</span><span class="cs8926E06">,</span><span class="cs9C1B1871">对于一个非专业人员来讲</span><span class="cs8926E06">,</span><span class="cs9C1B1871">他可能并不太会去特别注意那个</span><span class="cs8926E06"> url </span><span class="cs9C1B1871">的跳转变化</span><span class="cs8926E06">,</span><span class="cs9C1B1871">可能他会觉得只是刚刚密码输错了而已</span><span class="cs8926E06">,</span><span class="cs9C1B1871">但其实我们此时已经成功拿到了他的密码</span><span class="cs8926E06">,</span><span class="cs9C1B1871">目的已达成</span></p><p class="cs40DD2BC9"><span class="cs8926E06">image</span></p></body>
</html>
