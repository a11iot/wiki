<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>
		</title>
		<style type="text/css">
			.csAD577193{text-align:left;text-indent:0pt;margin:24pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.csDE05BCC{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:16pt;font-weight:bold;font-style:normal;}
			.csECDA2D3{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:16pt;font-weight:bold;font-style:normal;}
			.cs868C439D{text-align:left;text-indent:0pt;margin:10pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.cs83F14626{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:14pt;font-weight:bold;font-style:normal;}
			.csB2D98684{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:14pt;font-weight:bold;font-style:normal;}
			.cs6FD73CFB{text-align:left;text-indent:0pt;margin:5pt 24pt 5pt 24pt}
			.cs9C1B1871{color:#000000;background-color:transparent;font-family:Microsoft YaHei UI;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs8926E06{color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs3A447A38{text-align:left;text-indent:0pt;margin:0pt 0pt 10pt 0pt}
			.cs9FB05234{color:#000000;background-color:transparent;font-family:Consolas;font-size:11pt;font-weight:normal;font-style:normal;}
			.cs40DD2BC9{text-align:left;text-indent:0pt;margin:9pt 0pt 9pt 0pt}
			.cs7FFD2630{color:#000000;background-color:transparent;font-family:Microsoft JhengHei UI;font-size:11pt;font-weight:normal;font-style:normal;}
		</style>
	</head>
	<body>
		<h1 class="csAD577193">
			<a name="cobalt-strike-批量发送钓鱼邮件"><span class="csDE05BCC">Cobalt Strike </span><span class="csECDA2D3">批量发送钓鱼邮件</span></a></h1>
		<h2 class="cs868C439D">
			<a name="第一步先准备好目标的邮箱列表"><span class="cs83F14626">第一步</span><span class="csB2D98684">,</span><span class="cs83F14626">先准备好目标的邮箱列表</span></a></h2>
		<p class="cs6FD73CFB"><span class="cs9C1B1871">特别注意下此处的书写格式</span><span class="cs8926E06">,</span><span class="cs9C1B1871">前面是目标邮箱</span><span class="cs8926E06">,</span><span class="cs9C1B1871">后面紧跟着一个</span><span class="cs8926E06"> TAB </span><span class="cs9C1B1871">键然后才是你想要的人名</span></p><p class="cs3A447A38"><span class="cs9FB05234"># cat target.txt</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image0.png" width="560" height="171" alt="" style="border-width:0px;" /></span></p><h2 class="cs868C439D">
			<a name="第二步开始准备邮件模板和带有-payload-的附件"><span class="cs83F14626">第二步</span><span class="csB2D98684">,</span><span class="cs83F14626">开始准备邮件模板和带有</span><span class="csB2D98684"> payload </span><span class="cs83F14626">的附件</span></a></h2>
		<p class="cs6FD73CFB"><span class="cs9C1B1871">这个邮件模板具体改怎么搞呢</span><span class="cs8926E06">? </span><span class="cs9C1B1871">其实有个很简单的方法</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就是你可以先用自己的</span><span class="cs8926E06"> gmail </span><span class="cs9C1B1871">或者其它任意邮箱</span><span class="cs8926E06">,</span><span class="cs9C1B1871">把钓鱼邮件先写好</span><span class="cs8926E06">,</span><span class="cs9C1B1871">然后随便给自己的另外一个邮箱先发一封</span><span class="cs8926E06">[ </span><span class="cs9C1B1871">注</span><span class="cs8926E06">: </span><span class="cs9C1B1871">此处全部暂以</span><span class="cs8926E06"> gmail </span><span class="cs9C1B1871">为例再操作</span><span class="cs8926E06"> ],</span><span class="cs9C1B1871">然后再把收到的这个邮件的源码给抠出来再稍微处理下就是钓鱼模板了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">因为此处还要发钓鱼链接</span><span class="cs8926E06">,</span><span class="cs9C1B1871">所以我们需要事先把这个钓鱼链接也一并准备好</span><span class="cs8926E06">,</span><span class="cs9C1B1871">如何生成钓鱼链接就不多说了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">之前的文章已有详细说明</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image1.png" width="560" height="166" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">最终生成的钓鱼链接如下</span></p><p class="cs3A447A38"><span class="cs9FB05234">http://12.91.67.23:80/dana-na/auth/url_default/welcome.cgi</span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">接下来的事情就很明了了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">无非就是根据之前期搜集到的各种目标信息</span><span class="cs8926E06">,</span><span class="cs9C1B1871">想办法写钓鱼信</span><span class="cs8926E06">,</span><span class="cs9C1B1871">具体该怎么写</span><span class="cs8926E06">,</span><span class="cs9C1B1871">则要根据你自己的实际情况来</span><span class="cs8926E06">,</span><span class="cs9C1B1871">此处只是个简单的</span><span class="cs8926E06"> demo,</span><span class="cs9C1B1871">纯粹就是为了给弟兄们演示效果用的</span><span class="cs8926E06">,</span><span class="cs9C1B1871">切莫直接用于实战</span><span class="cs8926E06">,</span><span class="cs9C1B1871">写信的过程中唯一需要注意的就是</span><span class="cs8926E06">, &quot;</span><span class="cs9C1B1871">要显示的文本</span><span class="cs8926E06">&quot; </span><span class="cs9C1B1871">那个地方要写真实的链接</span><span class="cs8926E06">,</span><span class="cs9C1B1871">而</span><span class="cs8926E06">&quot; </span><span class="cs9C1B1871">链接到</span><span class="cs8926E06">&quot; </span><span class="cs9C1B1871">则要写我们上面准备好的那个钓鱼链接</span><span class="cs8926E06">,</span><span class="cs9C1B1871">这样一来</span><span class="cs8926E06">,</span><span class="cs9C1B1871">只要不是专业人员看到这个链接都不会有太大的怀疑</span><span class="cs8926E06">,</span><span class="cs9C1B1871">写完信之后</span><span class="cs8926E06">,</span><span class="cs9C1B1871">把它发到我们的另一个</span><span class="cs8926E06"> gmail </span><span class="cs9C1B1871">邮箱里</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image2.png" width="560" height="274" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">然后我们到另一个</span><span class="cs8926E06"> gmail </span><span class="cs9C1B1871">邮箱去收信</span><span class="cs8926E06">,</span><span class="cs9C1B1871">看到的就是如下这个样子</span><span class="cs8926E06">,</span><span class="cs9C1B1871">当然啦</span><span class="cs8926E06">,</span><span class="cs9C1B1871">信内容确实比较简单</span><span class="cs8926E06">,</span><span class="cs9C1B1871">实战中也肯定不能这么干</span><span class="cs8926E06">,</span><span class="cs9C1B1871">此处主要目的还是为了快速给大家演示一下实际的发信效果</span><span class="cs8926E06">,</span><span class="cs9C1B1871">所以就没必要弄得那么精致了</span><span class="cs8926E06">, </span><span class="cs9C1B1871">点击</span><span class="cs8926E06">&quot;</span><span class="cs9C1B1871">显示原始邮件</span><span class="cs8926E06">&quot;</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image3.png" width="560" height="192" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">将原始邮件复制到剪切板上</span><span class="cs8926E06">,</span><span class="cs9C1B1871">因为我们后续还要再稍微处理下</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image4.png" width="560" height="204" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">处理过程也很简单</span><span class="cs8926E06">,</span><span class="cs9C1B1871">只需留下标题和正文就行</span><span class="cs8926E06">,</span><span class="cs9C1B1871">邮件头中的内容全部删掉即可</span><span class="cs8926E06">,</span><span class="cs9C1B1871">而后再将其另存为</span><span class="cs8926E06"> txt,</span><span class="cs9C1B1871">等会儿我们就用这个来作为发信模板</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image5.png" width="560" height="334" alt="" style="border-width:0px;" /></span></p><h2 class="cs868C439D">
			<a name="第三步批量发送钓鱼信"><span class="cs83F14626">第三步</span><span class="csB2D98684">,</span><span class="cs83F14626">批量发送钓鱼信</span></a></h2>
		<p class="cs6FD73CFB"><span class="cs9C1B1871">在</span><span class="cs8926E06"> cobaltStrike </span><span class="cs9C1B1871">中默认为我们提供了一个可用于批量发送钓鱼邮件的功能</span><span class="cs8926E06">,</span><span class="cs9C1B1871">即</span><span class="cs8926E06">&quot;Spear Phish&quot;,</span><span class="cs9C1B1871">其实说白点</span><span class="cs8926E06">,</span><span class="cs9C1B1871">没啥实际的技术含量</span><span class="cs8926E06">,</span><span class="cs9C1B1871">无非就是要你指定一个</span><span class="cs8926E06"> smtp </span><span class="cs9C1B1871">服务器的</span><span class="cs8926E06"> ip,</span><span class="cs9C1B1871">端口</span><span class="cs8926E06">,</span><span class="cs9C1B1871">一个有效的邮箱账号密码</span><span class="cs8926E06">,</span><span class="cs9C1B1871">然后就可以用这个邮件服务器来发信了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就这么简单</span><span class="cs8926E06">,py </span><span class="cs9C1B1871">十来行代码足矣搞定</span><span class="cs8926E06">,</span><span class="cs9C1B1871">不同于之处就在于这个是用</span><span class="cs8926E06"> java </span><span class="cs9C1B1871">写的</span><span class="cs8926E06">,</span><span class="cs9C1B1871">而且给你画了个好看的界面</span><span class="cs8926E06">,</span><span class="cs9C1B1871">看着更加友好易用了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">仅此而已</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image6.png" width="560" height="152" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">大致介绍完咱们现在就来看下具体怎么去配置这个</span><span class="cs8926E06"> smtp [ </span><span class="cs9C1B1871">因为是学习</span><span class="cs8926E06">,</span><span class="cs9C1B1871">此处我们就直接用</span><span class="cs8926E06"> outlook </span><span class="cs9C1B1871">来发信</span><span class="cs8926E06">,</span><span class="cs9C1B1871">实战中你可以自己想办法去搭建邮件服务器来发</span><span class="cs8926E06">,</span><span class="cs9C1B1871">这样效果会相对更好一点</span><span class="cs8926E06">,</span><span class="cs9C1B1871">只是搭建油服的过程比较蛋疼一点</span><span class="cs8926E06">]:</span></p><p class="cs3A447A38"><span class="cs9FB05234">Targets </span><span class="cs7FFD2630">选择上面准备好的那个目标邮箱列表文件</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Template </span><span class="cs7FFD2630">选择上面准备好的那个钓鱼邮件模板</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Attachment </span><span class="cs7FFD2630">选择带有</span><span class="cs9FB05234"> payload </span><span class="cs7FFD2630">的</span><span class="cs9FB05234"> rar </span><span class="cs7FFD2630">压缩包</span><span class="cs9FB05234"> [</span><span class="cs7FFD2630">比如</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">可以用最近的</span><span class="cs9FB05234"> rar </span><span class="cs7FFD2630">目录穿越漏洞来搞</span><span class="cs9FB05234">]</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Embed URL </span><span class="cs7FFD2630">用上面准备好的那个钓鱼链接来替换邮件原文中所有</span><span class="cs9FB05234"> a </span><span class="cs7FFD2630">标签中的</span><span class="cs9FB05234"> href </span><span class="cs7FFD2630">地址</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Mail server </span><span class="cs7FFD2630">指定用于发信的</span><span class="cs9FB05234"> smtp </span><span class="cs7FFD2630">服务器</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">因为此处我们是直接用</span><span class="cs9FB05234"> outlook </span><span class="cs7FFD2630">来发的</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">所以你只需指定</span><span class="cs9FB05234"> outlook smtp </span><span class="cs7FFD2630">域名</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">端口和你自己的</span><span class="cs9FB05234"> outlook </span><span class="cs7FFD2630">账号密码即可</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">当然啦</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">实战中肯定是要用匿名邮箱来发的</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">不可能直接用自己的</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">Bounce to </span><span class="cs7FFD2630">此处最好和你用于发信的那个邮箱完全保持一致</span><span class="cs9FB05234">,</span><span class="cs7FFD2630">不然邮件可能发不出去</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image7.png" width="560" height="230" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">一切配置准备完毕之后</span><span class="cs8926E06">,</span><span class="cs9C1B1871">不妨先来预览</span><span class="cs8926E06">&quot;Preview&quot;</span><span class="cs9C1B1871">下邮件正文效果</span><span class="cs8926E06">,</span><span class="cs9C1B1871">看到如下</span><span class="cs8926E06">,</span><span class="cs9C1B1871">没什么问题</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就可以尝试点击</span><span class="cs8926E06">&quot;Sent&quot;</span><span class="cs9C1B1871">了</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image8.png" width="560" height="222" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">以下便是邮件发送成功后的实际效果</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image9.png" width="560" height="356" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">最后</span><span class="cs8926E06">,</span><span class="cs9C1B1871">我们再到各个邮箱去看看</span><span class="cs8926E06">,</span><span class="cs9C1B1871">刚发的钓鱼邮件到底有没有正常过来</span><span class="cs8926E06">,</span><span class="cs9C1B1871">很显然</span><span class="cs8926E06">,</span><span class="cs9C1B1871">已全部正常到达目标收件箱</span><span class="cs8926E06">,</span><span class="cs9C1B1871">特别注意</span><span class="cs8926E06"> </span><span class="cs9C1B1871">是正常达到收件箱而非垃圾箱</span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image10.png" width="560" height="337" alt="" style="border-width:0px;" /></span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/Cobalt_Strike_3.x系列教程/Cobalt_Strike_钓鱼攻击/Cobalt_Strike_借助钓鱼页面搜集目标内网入口账号密码/Cobalt%20Strike%20%e6%89%b9%e9%87%8f%e5%8f%91%e9%80%81%e9%92%93%e9%b1%bc%e9%82%ae%e4%bb%b6_files/image11.png" width="560" height="364" alt="" style="border-width:0px;" /></span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">从上面我们看到</span><span class="cs8926E06">,</span><span class="cs9C1B1871">邮件附件和链接都是正常到达目标收件箱的</span><span class="cs8926E06">,</span><span class="cs9C1B1871">不妨顺手点下那个链接试试看</span><span class="cs8926E06">,</span><span class="cs9C1B1871">如下</span><span class="cs8926E06">,</span><span class="cs9C1B1871">也正如我们预期的那样</span><span class="cs8926E06">,</span><span class="cs9C1B1871">正常跳到了我们的钓鱼页面上</span><span class="cs8926E06">,</span><span class="cs9C1B1871">至此</span><span class="cs8926E06">,</span><span class="cs9C1B1871">一次相对完整的钓鱼邮件发送过程基本就算完了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">之后的事情就是再想办法将之前提到的探针</span><span class="cs8926E06">,payload </span><span class="cs9C1B1871">链接一并整合利用起来</span><span class="cs8926E06">,</span><span class="cs9C1B1871">便是一次相对完整的钓鱼攻击过程了</span><span class="cs8926E06">,ok,</span><span class="cs9C1B1871">都比较简单</span><span class="cs8926E06">,</span><span class="cs9C1B1871">就不多废话了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">弟兄们一点点灵活变通就好了</span><span class="cs8926E06">,</span><span class="cs9C1B1871">确实也没啥太多的难点在里面</span></p><p class="cs40DD2BC9"><span class="cs8926E06">&nbsp;</span></p></body>
</html>
