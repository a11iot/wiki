<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>
		</title>
		<style type="text/css">
			.csAD577193{text-align:left;text-indent:0pt;margin:24pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.csDE05BCC{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:16pt;font-weight:bold;font-style:normal;}
			.csECDA2D3{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:16pt;font-weight:bold;font-style:normal;}
			.cs40DD2BC9{text-align:left;text-indent:0pt;margin:9pt 0pt 9pt 0pt}
			.cs9C1B1871{color:#000000;background-color:transparent;font-family:Microsoft YaHei UI;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs868C439D{text-align:left;text-indent:0pt;margin:10pt 0pt 0pt 0pt;page-break-after:avoid;page-break-inside:avoid}
			.csB2D98684{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:14pt;font-weight:bold;font-style:normal;}
			.cs83F14626{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:14pt;font-weight:bold;font-style:normal;}
			.cs9FB05234{color:#000000;background-color:transparent;font-family:Consolas;font-size:11pt;font-weight:normal;font-style:normal;}
			.csD6CA00D2{color:#4F81BD;background-color:transparent;font-family:Microsoft YaHei UI;font-size:12pt;font-weight:bold;font-style:normal;}
			.cs63189908{text-align:left;margin:0pt 0pt 10pt 0pt;list-style-type:decimal;color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal}
			.csD1E291E2{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:bold;font-style:normal;}
			.csBF12A472{color:#4F81BD;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:italic;}
			.cs8926E06{color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal;}
			.cs24C36B3{text-align:left;margin:0pt 0pt 10pt 0pt;list-style-type:disc;color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:normal;font-style:normal}
			.cs5BEC2C28{color:#000000;background-color:transparent;font-family:Calibri;font-size:12pt;font-weight:bold;font-style:normal;}
			.cs3A447A38{text-align:left;text-indent:0pt;margin:0pt 0pt 10pt 0pt}
			.cs7FFD2630{color:#000000;background-color:transparent;font-family:Microsoft JhengHei UI;font-size:11pt;font-weight:normal;font-style:normal;}
			.cs6FD73CFB{text-align:left;text-indent:0pt;margin:5pt 24pt 5pt 24pt}
		</style>
	</head>
	<body>
		<h1 class="csAD577193">
			<a name="Xc57f193b43967fbbe419a3f71cfd701adb00f47"><span class="csDE05BCC">5 Initial Access(</span><span class="csECDA2D3">初始化访问</span><span class="csDE05BCC">)</span></a></h1>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">这里主要说明怎样将一个武器化的文件投送到目标主机，并且让受害者打开它。</span></p><h2 class="cs868C439D">
			<a name="Xce0ecb0dd1a844e6690634d5431c64ecac3fe8b"><span class="csB2D98684">0x01 Client-side Attack</span><span class="cs83F14626">（客户端主机侧攻击）</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">一开始我们需要拿到一台目标环境内的主机作为入口，然后才能进行权限提升、横向移动等操作。</span></p><p class="cs40DD2BC9"><span class="cs9FB05234">Client-side Attack</span><span class="cs9C1B1871">是指你利用一个可以命令执行的漏洞或者是桌面程序的特性，从而能够控制目标主机去访问攻击者控制的内容。</span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">一般来说，处于内网主机的网络外层是部署了防火墙的，如果我们需要从外网访问内网，那么我们可以这样做：</span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">先设计一个钓鱼情景，然后根据这个情景去设计一个武器化的文件，接着设计好邮件并把该文件作为附件放到邮件中，最后发送给目标邮件帐户。如果目标主机打开了这个文件，那么我们就可以获得一个攻击的入口点。</span></p><h3 class="cs868C439D">
			<a name="客户端主机侧的攻击步骤如下"><span class="csD6CA00D2">客户端主机侧的攻击步骤如下</span></a></h3>
		<ol start="1" style="margin-top:0;margin-bottom:0;">
			<li class="cs63189908"><span class="cs9C1B1871">收集目标的用户信息：基于开源情报进行主动和被动信息收集，尽可能多地去了解你的目标。</span></li><li class="cs63189908"><span class="cs9C1B1871">基于收集到的客户端主机信息，搭建一个与其环境一致的虚拟机</span></li><li class="cs63189908"><span class="cs9C1B1871">使用这个虚拟机寻找最好的攻击方式。当然，采取最好的攻击方式需要你收集到足够详细的信息，这样就可以提前知道你会遇到哪些问题，比如说可以利用的软件版本信息等。</span></li><li class="cs63189908"><span class="cs9C1B1871">尝试使用一个比较正常的场景来伪装我们的攻击方式，然后诱骗受害者打开我们进行过武器化的文档。</span></li><li class="cs63189908"><span class="cs9C1B1871">将这个文档打包好，通过邮件发送给你的目标。</span></li></ol>
		<h3 class="cs868C439D">
			<a name="cobalt-strike工具介绍："><span class="csD1E291E2">Cobalt Strike</span><span class="csD6CA00D2">工具介绍：</span></a></h3>
		<h4 class="cs868C439D">
			<a name="X5a1c25a5bdd259c10f31bece602ee36adb14872"><span class="csBF12A472">1. System Profiler</span></a></h4>
		<p class="cs40DD2BC9"><span class="cs8926E06">System Profiler</span><span class="cs9C1B1871">是一个用于客户端主机侧攻击的伪装工具，它是一个</span><span class="cs8926E06">Web</span><span class="cs9C1B1871">应用程序。</span><span class="cs8926E06"><br/><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image0.png" width="560" height="211" alt="" style="border-width:0px;" /><br/></span><span class="cs9FB05234">Redirect URL</span><span class="cs9C1B1871">是指任何一个用户访问</span><span class="cs9FB05234">System Profiler</span><span class="cs9C1B1871">之后都会被设置跳转到这个</span><span class="cs8926E06">URL</span><span class="cs9C1B1871">。</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">建议不要勾选</span><span class="cs9FB05234">Use java Applet to get information</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">查看</span><span class="cs9FB05234">System profiler</span><span class="cs9C1B1871">的结果：</span><span class="cs8926E06"><br/><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image1.png" width="560" height="268" alt="" style="border-width:0px;" /><br/></span><span class="cs9C1B1871">你可以在这看到操作系统的浏览器及版本信息，有可能会获取到目标机的内网</span><span class="cs8926E06">IP</span><span class="cs9C1B1871">。这里的</span><span class="cs8926E06">IE</span><span class="cs9C1B1871">是</span><span class="cs9FB05234">11.0.19203</span><span class="cs9C1B1871">版本，可以根据这个来判断目标系统的补丁程序级别。</span></p><h4 class="cs868C439D">
			<a name="Xff2b0e3043cc037764a249690d54b099b5fbca0"><span class="csBF12A472">2. Website Clone Tool</span></a></h4>
		<p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image2.png" width="560" height="240" alt="" style="border-width:0px;" /></span><span class="cs8926E06"><br/>Cobal Strike</span><span class="cs9C1B1871">可以根据给定的</span><span class="cs9FB05234">Clone URL</span><span class="cs9C1B1871">进行网站克隆。如果你需要进行浏览器或者是浏览器插件的漏洞利用，那么你可以通过上图的</span><span class="cs9FB05234">Attack</span><span class="cs9C1B1871">在网页内嵌入一个</span><span class="cs8926E06">iframe</span><span class="cs9C1B1871">标签来进行利用。</span><span class="cs8926E06">Cobal Strike</span><span class="cs9C1B1871">还支持键盘记录器。</span></p><h2 class="cs868C439D">
			<a name="X512f5e53e382f473866c092def8c8e792fcdb12"><span class="csB2D98684">0x02 Spear Phishing</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">进行的步骤如下：</span></p><ol start="1" style="margin-top:0;margin-bottom:0;">
			<li class="cs63189908"><span class="cs9C1B1871">创建一个目标列表，如下所示</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">&lt;tab&gt;</span><span class="cs9C1B1871">是指键盘上的</span><span class="cs9FB05234">tab</span></li></ol>
		<ul style="margin-top:0;margin-bottom:0;">
			<li class="cs24C36B3"><span class="cs9FB05234">jim.stevens@acme.com&lt;tab&gt;Jim Stevens &nbsp;</span><span class="cs8926E06"><br/></span><span class="cs9FB05234">whatta.hogg@acme.com&lt;tab&gt;Whatta Hogg</span></li></ul>
		<ol start="2" style="margin-top:0;margin-bottom:0;">
			<li class="cs63189908"><span class="cs9C1B1871">创建一个模板</span><span class="cs8926E06"> </span><span class="cs9C1B1871">从你的邮箱中找一份邮件，然后点击列表中的查看消息源（或者是邮件导出、查看邮件原文等），如下图所示，然后将内容保存到本地。</span></li></ol>
		<p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image3.png" width="560" height="301" alt="" style="border-width:0px;" /></span><span class="cs8926E06"><br/>Cobalt Strike</span><span class="cs9C1B1871">有几个模板可以用来定制化邮件：</span><span class="cs8926E06"> |Token|</span><span class="cs9C1B1871">描述</span><span class="cs8926E06">| |:----:|:----:| |%URL%|</span><span class="cs9C1B1871">嵌入的</span><span class="cs8926E06">URL| |%To_Name%|</span><span class="cs9C1B1871">目标的名称</span><span class="cs8926E06">| |%To%|</span><span class="cs9C1B1871">目标的邮箱地址</span><span class="cs8926E06">| </span><span class="cs9C1B1871">对于每一封钓鱼邮件，这里的</span><span class="cs9FB05234">To</span><span class="cs9C1B1871">都需要修改成目标列表中的邮箱地址，</span><span class="cs8926E06">Cobal Strike</span><span class="cs9C1B1871">会根据目标列表对</span><span class="cs9FB05234">To</span><span class="cs9C1B1871">的内容进行替换。另外，这里的</span><span class="cs9FB05234">Date</span><span class="cs9C1B1871">和附件内容之后也会被修改掉。注意，如果你只是将邮件发给某个人进行钓鱼，那么</span><span class="cs9FB05234">From</span><span class="cs9C1B1871">这个</span><span class="cs8926E06">header</span><span class="cs9C1B1871">修不修改都可以，如果不是，那么建议你修改</span><span class="cs9FB05234">From</span><span class="cs9C1B1871">这个</span><span class="cs8926E06">header</span><span class="cs9C1B1871">以避免对情报收集产生影响。</span><span class="cs9FB05234">Bounce To</span><span class="cs9C1B1871">是将发件人修改为这个值。</span></p><p class="cs40DD2BC9"><span class="cs5BEC2C28">Attacks -&gt; Spear Phish</span><span class="cs8926E06"> <img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image4.png" width="560" height="331" alt="" style="border-width:0px;" /></span></p><p class="cs40DD2BC9"><span><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image5.png" width="532" height="347" alt="" style="border-width:0px;" /></span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">点击</span><span class="cs9FB05234">Preview</span><span class="cs9C1B1871">可以查看到修改后的邮件正文</span><span class="cs8926E06"><br/><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image6.png" width="560" height="423" alt="" style="border-width:0px;" /></span></p><ol start="1" style="margin-top:0;margin-bottom:0;">
			<li class="cs63189908"><span class="cs9C1B1871">选择一个邮件服务器来发送邮件</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">这里有两种选择：</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">1</span><span class="cs9C1B1871">）在本地搭建一个</span><span class="cs8926E06">SMTP</span><span class="cs9C1B1871">服务器：</span><span class="cs8926E06"><br/>Cobal Strike</span><span class="cs9C1B1871">连接到服务器的</span><span class="cs8926E06">25</span><span class="cs9C1B1871">端口（</span><span class="cs8926E06">SMTP</span><span class="cs9C1B1871">服务端口），然后</span><span class="cs8926E06">Cobal Strike</span><span class="cs9C1B1871">会把消息发给本地</span><span class="cs8926E06">SMTP</span><span class="cs9C1B1871">服务器，接着</span><span class="cs8926E06">SMTP</span><span class="cs9C1B1871">服务器会去查询接收邮件的域名的</span><span class="cs8926E06">DNS</span><span class="cs9C1B1871">解析记录和</span><span class="cs8926E06">MX</span><span class="cs9C1B1871">记录（邮件交换记录），然后本地</span><span class="cs8926E06">SMTP</span><span class="cs9C1B1871">服务器就会连接到目标域名的邮件服务器进行后续的邮件发送操作了</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">2</span><span class="cs9C1B1871">）通过云邮件服务提供商来使用我们用来钓鱼的域名：</span><span class="cs8926E06"><br/>Cobal Strike</span><span class="cs9C1B1871">的</span><span class="cs8926E06">phishing tool</span><span class="cs9C1B1871">可以提供认证选项来连接到云邮件服务提供商。</span><span class="cs8926E06">Cobal Strike</span><span class="cs9C1B1871">将邮件发给云邮件服务提供商后，它会去查询目标的</span><span class="cs8926E06">MX</span><span class="cs9C1B1871">记录，然后与目标域名的邮件服务器进行通信，将邮件发给目标地址。</span></li><li class="cs63189908"><span class="cs9C1B1871">汇总所有的东西，然后将邮件发送给目标主机的邮箱</span></li></ol>
		<h2 class="cs868C439D">
			<a name="X86b770e868cafc1cc16c34eec1485a884387ba0"><span class="csB2D98684">0x03 Tradecraft(</span><span class="cs83F14626">社工</span><span class="csB2D98684">)</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">现在对用户使用钓鱼这个行为已经越来越难实现了，尤其是那些将邮件服务部署在云服务商的企业。首先，你得绕过垃圾邮件过滤器，还得遵循电子邮件认证协议等规则（</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">、</span><span class="cs8926E06">DKIM</span><span class="cs9C1B1871">、</span><span class="cs8926E06">DMARC</span><span class="cs9C1B1871">等）。由于邮件附件是一个武器化的文件，你还得绕过反病毒网关的检测，甚至有些软件还带有沙箱功能，会尝试打开这个文件并追踪其行为。</span></p><h3 class="cs868C439D">
			<a name="对邮件头的from进行伪造"><span class="csD6CA00D2">对邮件头的</span><span class="csD1E291E2">From</span><span class="csD6CA00D2">进行伪造</span></a></h3>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">邮件头的</span><span class="cs8926E06">From</span><span class="cs9C1B1871">头的值是用户收到邮件后在邮件客户端上看到的发件人</span><span class="cs8926E06"><br/><img src="安全工具/CobaltStrike/CobaltStrike4.0/5.Initial_Access/5-initial-access%e5%88%9d%e5%a7%8b%e5%8c%96%e8%ae%bf%e9%97%ae_files/image7.png" width="560" height="300" alt="" style="border-width:0px;" /></span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">使用</span><span class="cs9FB05234">dig +short MX [domain]</span><span class="cs9C1B1871">查看目标邮件服务器的</span><span class="cs8926E06">MX</span><span class="cs9C1B1871">记录</span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">建议你确保</span><span class="cs9FB05234">From</span><span class="cs8926E06">header</span><span class="cs9C1B1871">与</span><span class="cs9FB05234">Bounce To</span><span class="cs9C1B1871">的内容一致，这样就可以让</span><span class="cs9FB05234">From</span><span class="cs9C1B1871">和</span><span class="cs9FB05234">Mail From</span><span class="cs9C1B1871">在信封里的内容一致，否则某些服务器在对邮件进行检查时，就会把邮件归类到垃圾邮件或者可疑邮件，甚至是恶意邮件。</span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">了解目标域名是否使用了</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">。当你与目标邮件服务器建立连接，想要发送邮件时，目标的邮件服务器就会去</span><span class="cs8926E06">txt</span><span class="cs9C1B1871">记录里查询你的域名，然后再查看</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">记录，</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">记录就会列出允许一个列表，列表里包含了允许使用你的域名发送邮件的一些</span><span class="cs8926E06">IP</span><span class="cs9C1B1871">。如果检查发现</span><span class="cs8926E06">from</span><span class="cs9C1B1871">里的</span><span class="cs8926E06">IP</span><span class="cs9C1B1871">不在这个列表里，那么</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">校验就会认定失败，邮件伪造就会失败。如果目标邮件服务器使用了</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">，那么使用域名伪造（任意伪造发件人）是行不通的。</span></p><p class="cs3A447A38"><span class="cs9FB05234">dig +short TXT domain.com # </span><span class="cs7FFD2630">查询某个域名的</span><span class="cs9FB05234">SPF</span><span class="cs7FFD2630">记录</span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">另外一种反电子邮件欺骗的机制是</span><span class="cs8926E06">DKIM</span><span class="cs9C1B1871">（域名密钥识别邮件标准）。</span></p><p class="cs6FD73CFB"><span class="cs9C1B1871">参考百度百科：</span><span class="cs8926E06">DKIM </span><span class="cs9C1B1871">的基本工作原理同样是基于传统的密钥认证方式，他会产生两组钥匙，公钥</span><span class="cs8926E06">(public key)</span><span class="cs9C1B1871">和私钥</span><span class="cs8926E06">(private key)</span><span class="cs9C1B1871">，公钥将会存放在</span><span class="cs8926E06"> DNS </span><span class="cs9C1B1871">中，而私钥会存放在寄信服务器中。数字签名会自动产生，并依附在邮件头中，发送到寄信者的服务器里。公钥则放在</span><span class="cs8926E06">DNS</span><span class="cs9C1B1871">服务器上，供自动获得。收信的服务器，将会收到夹带在邮件头中的签名和在</span><span class="cs8926E06">DNS</span><span class="cs9C1B1871">上自己获取公钥，然后进行比对，比较寄信者的域名是否合法，如果不合法，则判定为垃圾邮件</span></p><p class="cs40DD2BC9"><span class="cs8926E06">DMARC</span><span class="cs9C1B1871">是基于</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">和</span><span class="cs8926E06">DKIM</span><span class="cs9C1B1871">推出的一个电子邮件安全协议，它可以设置当</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">和</span><span class="cs8926E06">DKIM</span><span class="cs9C1B1871">校验失败后的操作，你可以执行以下命令来查看服务器的</span><span class="cs8926E06">DMARC</span><span class="cs9C1B1871">配置。</span></p><p class="cs3A447A38"><span class="cs9FB05234">dig +short TXT _dmarc.domain.com</span></p><h3 class="cs868C439D">
			<a name="注意事项"><span class="csD6CA00D2">注意事项</span></a></h3>
		<p class="cs40DD2BC9"><span class="cs9C1B1871">不要让你的邮件被识别为垃圾邮件：</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">1</span><span class="cs9C1B1871">）尽量使用一个可信度比较高的域名作为邮件服务器</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">2</span><span class="cs9C1B1871">）在</span><span class="cs8926E06">targets list</span><span class="cs9C1B1871">里最好写上目标的名字</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">3</span><span class="cs9C1B1871">）确保</span><span class="cs9FB05234">From</span><span class="cs9C1B1871">和</span><span class="cs9FB05234">Mail From</span><span class="cs9C1B1871">的内容一致</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">4</span><span class="cs9C1B1871">）避免使用可疑的</span><span class="cs8926E06">URL</span><span class="cs9C1B1871">，比如</span><span class="cs8926E06">IP</span><span class="cs9C1B1871">地址</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">5</span><span class="cs9C1B1871">）为你的域名配置好</span><span class="cs8926E06">SPF</span><span class="cs9C1B1871">、</span><span class="cs8926E06">DKIM</span><span class="cs9C1B1871">和</span><span class="cs8926E06">DMARC</span><span class="cs9C1B1871">，这样可以增加你的域名的可信度</span></p><p class="cs40DD2BC9"><span class="cs9C1B1871">不要让你的邮件被过滤掉</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">1</span><span class="cs9C1B1871">）不要在附件里放上可执行文件（比如</span><span class="cs8926E06">exe</span><span class="cs9C1B1871">和</span><span class="cs8926E06">dll</span><span class="cs9C1B1871">文件）</span><span class="cs8926E06"><br/></span><span class="cs9C1B1871">（</span><span class="cs8926E06">2</span><span class="cs9C1B1871">）不要在附件里放上任何已经被杀毒软件识别的文件</span></p><h2 class="cs868C439D">
			<a name="X4add211ff6dd94c1616291595743998d7b7bb7c"><span class="csB2D98684">0x04 Assume Breach</span><span class="cs83F14626">（假设钓鱼成功）</span></a></h2>
		<p class="cs40DD2BC9"><span class="cs8926E06"><br/></span><span class="cs9C1B1871">准备一个</span><span class="cs8926E06">win7</span><span class="cs9C1B1871">虚拟机，在虚拟机里模拟好真实环境后，再进行练习操作，最后再传输</span><span class="cs8926E06">payload</span><span class="cs9C1B1871">进行执行。接着就是内网主机端口扫描，使用</span><span class="cs9FB05234">make_token</span><span class="cs9C1B1871">命令创建一个</span><span class="cs8926E06">token</span><span class="cs9C1B1871">来传递凭据，然后是内网横向移</span></p></body>
</html>
